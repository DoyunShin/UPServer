async function onload(){try{var e=window.location.href.split("/"),t=e.pop(),n=e.pop();if("ye"===n&&"hello.gif"===t)throw"You Just have been Rickrolled!";var o=await get_metadata(n,t),i=document.getElementById("result_name"),d=document.getElementById("result_desc");i.innerHTML=o.name,d.innerHTML=o.size+" bytes   "+o.mimeType;var l="/get/"+n+"/"+t,a=o.mimeType.split("/")[0];["audio/midi"].includes(o.mimeType)?result_content.button(l):"image"===a?result_content.image(l):"video"===a?result_content.video(l):"audio"===a?result_content.audio(l):result_content.button(l)}catch(e){console.log(e);i=document.getElementById("result_name"),d=document.getElementById("result_desc");i.innerHTML="Something went wrong!",d.innerHTML=e;document.getElementById("result_content");result_content.image("/assets/img/rickrolled.gif")}}async function get_metadata(e,t){var n="/api/v1/"+e+"/"+t;return await fetch(n).then((e=>e.json())).then((e=>e))}var result_content={button:function(e){var t=document.getElementById("result_content"),n=document.createElement("button");n.id="result_download",n.className="btn btn-primary",n.type="button",n.innerHTML="Download",n.setAttribute("onclick","window.location.href='"+e+"'"),t.appendChild(n)},image:function(e){var t=document.getElementById("result_content"),n=document.createElement("img");n.id="result_image",n.style="width: auto;height: calc(100vh * 0.4);",n.src=e,t.appendChild(n)},video:function(e){var t=document.getElementById("result_content"),n=document.createElement("video");n.id="result_video",n.style="width: auto;height: calc(100vh * 0.4);",n.src=e,n.controls=!0,t.appendChild(n)},audio:function(e){var t=document.getElementById("result_content"),n=document.createElement("audio");n.id="result_audio",n.style="width: 500px",n.src=e,n.controls=!0,t.appendChild(n)}};window.addEventListener("load",onload);